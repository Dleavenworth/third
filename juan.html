<!DOCTYPE html>
<html>
<body>
<center>
  <font size="18">Juan Hanh's Game</font>
  <br>
  <br>
  <form action="javascript:submittQuestion();">
    <table>
      <tr>
        <td><input type="radio" name="answer_text" id="A">A. </td>
      </tr>
      <tr>
        <td><input type="radio" name="answer_text" id="B">B. </td>
      </tr>
      <tr>
        <td><input type="radio" name="answer_text" id="C">C. </input></td>
      </tr>
      <tr>
        <td><input type="radio" name="answer_text" id="D">D. </input></td>
      </tr>
    </table>
    <br>
    <input type="submit" value="Next">
  </form>
  <br>
  <div class="feedback"></div>
  <script>
var number_questions = 4;
var asked_questions = 0;
var prev_question = -1;
var correct_answers = 0;
var my_hash = {};
var bgcolorlist = ["#01DF01", "#FFFF00", "#DF0101", "#0101DF", "#00FFFF"];
var isPlayer1 = true;
var queue = [];

var questions = [{
question: 'When was google founded?',
            optionA: '1998',
            optionB: '1988',
            optionC: '2002',
            optionD: '2008',
            answer: 'A'},
{
question: 'Who where the founders of google?',
          optionA: 'Steve Jobs, Steve Wozniak, Mark Zuckerberg',
          optionB: 'Larry Page, Sergey Brin', 
          optionC: 'Sergey Brin, Steve Jobs',
          optionD: 'Steve Chen, Chad Hurley, Jawed Karim',
          answer: 'B'
},
{
question: 'How many google office are in the US?',
          optionA: '19',
          optionB: '18',
          optionC: '30',
          optionD: '26',
          answer: 'A'
},
{
question: 'What is googles motto?',
          optionA: 'Have it your way',
          optionB: 'Dont be evil',
          optionC: 'Impossible is nothing',
          optionD: 'Lets go places',
          answer: 'B'
}];

function submitQuestion() {
  document.body.style.background=bgcolorlist[Math.floor(Math.random()*bgcolorlist.length)];
  if(prev_question != -1 && document.getElementById(questions[prev_question]['answer']).checked) {
    correct_answers++;
    document.getElementById('feedback').innerHTML = 'Correct!';
  } else if(prev question != 1) {
    document.getElementById('feedback').innerHTML = 'Sorry, that is incorrect';
  }
  document.getElementById('A').checked = false;
  document.getElementById('B').checked = false;
  document.getElementById('C').checked = false;
  document.getElementById('D').checked = false;

  if(asked questions == number_questions) {
    var message = isPlayer1 ? ' Player 2s turn' : ' Start new game!';
    alert('You got ' + correct_answers + ' out of ' + numbe_questions + ' qestions correct!' + message)
      correct_answers = 0;
    prev_questions = -1;
    asked_questions = 0;
    my_hash = {};
    document.getElementById('A').checked = false;
    document.getElementById('B').checked = false;
    document.getElementById('C').checked = false;
    document.getElementById('D').checked = false;
    isPlayer1 = !isPlayer1;
  }

  var current_question = Math.floor((Math.random() * questions.length));
  while(my_hash[''+current_question]) {
    current_question = Math.floor((Math.random() * questions.length));
  }
  if(!isPlayer1) { 
    current_question = queue.shift();
  }
  else {
    queue.push(current_question);
  }

  my_hash[''+current_question] = 1;
  document.getElementById("question_text").innerHTML = questions[current_question]['question'];
  document.getElementById("answer_textA").innerHTML = questions[current_question]['optionA'];
  document.getElementById("answer_textB").innerHTML = questions[current_question]['optionB'];
    document.getElementById("answer_textC").innerHTML = question[current_question]['optionC'];
    document.getElementById("answer_textD").innerHTML = question[current_question]['optionD'];

    prev_question = current_question;
    asked_questions++;
}
submitQuestion();
  }
}
  </script>
</center>
</body>
</html>
